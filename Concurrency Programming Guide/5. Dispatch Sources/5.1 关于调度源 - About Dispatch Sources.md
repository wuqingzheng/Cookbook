## 5.1 关于调度源 - About Dispatch Sources
调度源（Dispatch Sources）是协调特定低级系统事件处理的基本数据类型。**Grand Central Dispatch** 支持以下类型的调度源：

1. **定时器调度源**（Timer dispatch sources）生成定期通知。
2. **信号调度源**（Signal dispatch sources）在 **UNIX** 信号到达时通知您。
3. **描述符源**（Descriptor sources）通知您各种基于文件和基于套接字的操作，例如：  
	* 数据可供阅读时  
	* 何时可以写入数据  
	* 在文件系统中删除，移动或重命名文件时  
	* 文件元信息发生变化时  
4. **进程调度源**（Process dispatch sources）通知您与进程相关的事件，例如：  
	* 当一个进程退出  
	* 当进程分发 `fork` 或 `exec` 类型的调用时  
	* 当一个信号被传递给进程时  
* **Mach 端口调度源**（Mach port dispatch sources）通知你 Mach 相关的事件。
* **自定义调度源**（Custom dispatch sources）是您定义并触发自己的来源。

调度源取代了通常用于处理系统相关事件的异步回调函数。配置调度源时，可以指定要监视的事件以及用于处理这些事件的调度队列和代码。您可以使用块对象或函数来指定您的代码。当感兴趣的事件到达时，调度源将您的块或函数提交给指定的调度队列执行。

与手动提交给队列的任务不同，调度源为您的应用程序提供连续的事件源。调度源仍然附加到其调度队列，直到您明确取消调度。在附加时，只要相应的事件发生，它就会将相关的任务代码提交给调度队列。某些事件（如计时器事件）会定期发生，但大多数情况下只会在特定条件出现时偶发出现。因此，调度源保留其关联的调度队列，以防止事件过早释放，同时事件可能仍在等待。

为防止事件在调度队列中积压，调度源实施事件合并方案。如果新事件在事件处理程序出现并执行之前到达，那么调度源会将新事件数据中的数据与旧事件中的数据合并。根据事件的类型，合并可能会取代旧事件或更新其保存的信息。例如，基于信号的调度源仅提供关于最新信号的信息，但也报告自从最后一次调用事件处理程序以来已传送了多少总信号。